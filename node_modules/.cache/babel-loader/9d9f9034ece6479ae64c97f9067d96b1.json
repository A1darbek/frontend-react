{"ast":null,"code":"import axios from 'axios';\nimport { getUser } from './auth_helper';\nimport { useEffect, useState } from \"react\";\nconst _callApi = token => {\n  const headers = {\n    Accept: \"application/json\",\n    Authorization: \"Bearer \" + token\n  };\n  return axios.get(\"http://localhost:8083/songs/1\", {\n    headers\n  });\n};\nexport const callApi = () => {\n  return getUser().then(user => {\n    if (user && user.access_token) {\n      return _callApi(user.access_token).catch(error => {\n        throw error;\n      });\n    } else {\n      throw new Error('user is not logged in');\n    }\n  });\n};","map":{"version":3,"names":["axios","getUser","useEffect","useState","_callApi","token","headers","Accept","Authorization","get","callApi","then","user","access_token","catch","error","Error"],"sources":["C:/Users/Айдарбек/Documents/SpringBootProjects/frontend-react/src/helpers/axios_helper.js"],"sourcesContent":["import axios from 'axios';\nimport { getUser } from './auth_helper';\nimport {useEffect, useState} from \"react\";\n\n\nconst _callApi = (token) => {\n    const headers = {\n        Accept: \"application/json\",\n        Authorization: \"Bearer \" + token\n    };\n    return axios.get(\"http://localhost:8083/songs/1\", { headers });\n}\n\nexport const callApi = () => {\n    return getUser().then(user => {\n        if (user && user.access_token) {\n            return _callApi(user.access_token).catch(error => {\n                throw error;\n            });\n        } else {\n            throw new Error('user is not logged in');\n        }\n    });\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,eAAe;AACvC,SAAQC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAGzC,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EACxB,MAAMC,OAAO,GAAG;IACZC,MAAM,EAAE,kBAAkB;IAC1BC,aAAa,EAAE,SAAS,GAAGH;EAC/B,CAAC;EACD,OAAOL,KAAK,CAACS,GAAG,CAAC,+BAA+B,EAAE;IAAEH;EAAQ,CAAC,CAAC;AAClE,CAAC;AAED,OAAO,MAAMI,OAAO,GAAGA,CAAA,KAAM;EACzB,OAAOT,OAAO,CAAC,CAAC,CAACU,IAAI,CAACC,IAAI,IAAI;IAC1B,IAAIA,IAAI,IAAIA,IAAI,CAACC,YAAY,EAAE;MAC3B,OAAOT,QAAQ,CAACQ,IAAI,CAACC,YAAY,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;QAC9C,MAAMA,KAAK;MACf,CAAC,CAAC;IACN,CAAC,MAAM;MACH,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;IAC5C;EACJ,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module"}
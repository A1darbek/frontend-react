{"ast":null,"code":"import axios from 'axios';\nimport { getUser } from './auth_helper';\n\nconst _callApi = token => {\n  const headers = {\n    Accept: \"application/json\",\n    Authorization: \"Bearer \" + token\n  };\n  return axios.get(\"http://localhost:8083/songs/1/stream\", {\n    headers\n  });\n};\n\nexport const callApi = () => {\n  return getUser().then(user => {\n    if (user && user.access_token) {\n      return _callApi(user.access_token).catch(error => {\n        throw error;\n      });\n    } else {\n      throw new Error('user is not logged in');\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Айдарбек/Documents/SpringBootProjects/frontend-react/src/helpers/axios_helper.js"],"names":["axios","getUser","_callApi","token","headers","Accept","Authorization","get","callApi","then","user","access_token","catch","error","Error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,eAAxB;;AAGA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB,QAAMC,OAAO,GAAG;AACZC,IAAAA,MAAM,EAAE,kBADI;AAEZC,IAAAA,aAAa,EAAE,YAAYH;AAFf,GAAhB;AAKA,SAAOH,KAAK,CAACO,GAAN,CAAU,sCAAV,EAAkD;AAAEH,IAAAA;AAAF,GAAlD,CAAP;AACH,CAPD;;AASA,OAAO,MAAMI,OAAO,GAAG,MAAM;AACzB,SAAOP,OAAO,GAAGQ,IAAV,CAAeC,IAAI,IAAI;AAC1B,QAAIA,IAAI,IAAIA,IAAI,CAACC,YAAjB,EAA+B;AAC3B,aAAOT,QAAQ,CAACQ,IAAI,CAACC,YAAN,CAAR,CAA4BC,KAA5B,CAAkCC,KAAK,IAAI;AAC9C,cAAMA,KAAN;AACH,OAFM,CAAP;AAGH,KAJD,MAIO;AACH,YAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH;AACJ,GARM,CAAP;AASH,CAVM","sourcesContent":["import axios from 'axios';\nimport { getUser } from './auth_helper';\n\n\nconst _callApi = (token) => {\n    const headers = {\n        Accept: \"application/json\",\n        Authorization: \"Bearer \" + token\n    };\n\n    return axios.get(\"http://localhost:8083/songs/1/stream\", { headers });\n}\n\nexport const callApi = () => {\n    return getUser().then(user => {\n        if (user && user.access_token) {\n            return _callApi(user.access_token).catch(error => {\n                throw error;\n            });\n        } else {\n            throw new Error('user is not logged in');\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}